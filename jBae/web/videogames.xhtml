<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css"/>
    <head>
        <title>J-Bay</title>
    </head>

    <body>
        <ui:composition template="templates/common.xhtml">
            <ui:define name="topNavBar">
                <div class="topNavBar">
                    <ul class="topbar">
                        <li class="topbar"><h:link value="Home" outcome="index.xhtml"/></li>
                        <li class="topbar"><h:link value="Cars" outcome="cars.xhtml"/></li>
                        <li class="topbar"><h:link value="Books" outcome="books.xhtml"/></li>
                        <li class="topbar"><h:link value="Shoes" outcome="shoes.xhtml"/></li>
                        <li class="topbar"><h:link class="active" value="Video Games" outcome="videogames.xhtml"/></li>
                        <li class="topbar-right">
                            <div class="search_bar">
                                <h:form>
                                    <h:inputText id="search_bar" value="#{search.search_input}">
                                        <f:passThroughAttribute name="placeholder" value="Search"/>
                                    </h:inputText>
                                    <h:commandButton id="search_submit" value="Search" action="#{search.simple_title_search}" styleClass="search_submit"/>
                                </h:form>
                            </div>
                        </li>
                    </ul>
                </div>
            </ui:define>
               
            <ui:define name="result">
                <div class="results">
                   <h:dataTable styleClass="listing_table" id="list_table" value="#{arrayListings.videoGameListings}" var="list">
                       <h:column>
                       <div class="listing">
                           <div class="listing_image">
                               <img src="#{list.imgSrc}" height="100%" width="100%"/>
                           </div>
                           <div class="listing_title">
                               <h:outputText value="#{list.title}"/>
                           </div>
                           <div class="listing_buy">
                               <h:form>                            
                                   <h:commandButton value="Purchase" immediate="true" action="#{listing.findListing(list)}"/>
                               </h:form>
                           </div>
                           <div class="listing_price">
                               <h:outputText value="$#{list.price}"/>
                           </div>
                           <div class="listing_details">
                               <h:outputText value="Item Type: #{list.category}"/>
                           </div>
                           <div class="listing_type">
                               <h:outputText value="Listing ends: #{list.expirationDate}"/>
                           </div>
                       </div>
                       </h:column>
                   </h:dataTable>  
               </div>
            </ui:define>
        </ui:composition>
            
    </body>

        
</html>

